<div class='room'>

  <h1>{{roomName}}</h1>
  <ul id="messages"></ul>
  <form id='msg' action="">
    <input id="m" autocomplete="off" /><button>Send</button>
  </form>
</div>

<script src="/socket.io/socket.io.js"></script>

<script type="text/javascript" src='/javascripts/client.js'></script>
<script type="text/javascript">
var socket = io();///add room {{id}}
if (true) {

}
socket.emit('self', {roomID: '{{roomID}}'})
$('#msg').submit(function(){
  socket.emit('dog', {user: '{{user.id}}', userName:'{{user.name}}', room: '{{roomName}}', roomID: '{{roomID}}', message: $('#m').val()});
  $('#m').val('');
  return false;
});
socket.on('{{roomName}}', function(msg){
  $('#messages').append($('<li>').html('<h4>' + msg.userName + ':  </h4> ' + msg.message));
});
socket.on('self', function(message){
  message.forEach(function(msg){
    $('#messages').append($('<li>').html('<h4>' + msg.name + ':  </h4> ' + msg.message));
  })
});
</script>
